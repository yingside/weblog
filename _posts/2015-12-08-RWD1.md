---

layout: post
title: 关于响应式布局的思考与总结(一)-常识介绍
tags:  [响应式布局,Responsive Web Design,media query,REM,EM]
categories: [响应式布局]
author: Yingside
excerpt: "网上关于响应式布局的文章很多,基本上都写得很详细,但是就是由于太多太杂,很多初学者又不知道到底该怎么做了,所以,这篇文章把涉及到的响应式布局的内容总结概括了一下.这一篇主要介绍的是一些常识性概念"

---

## 一.概念

Responsive Web Design（响应式布局）这个名词是Ethan Marcotte在2010年提出.简单说呢就针对不同的屏幕分辨率应用不同的CSS样式。比如在电脑、Pad设备上，屏幕比较宽，就可以一行放多个Div。到了手机上，或者Pad竖着拿的的时候，一行就只放1到2个Div就差不多了。这样在移动设备上,无论是字体大小还是页面布局就不会显得很局促.一切都是为了客户的体验度.

首先,要实现响应式布局,至少需要知道下面几个知识点

## 二、meta标签设置

下面的这段话在响应式布局里面必不可少

### 网页宽度调整

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
```

上面这行代码的意思是：网页宽度默认等于屏幕宽度`（width=device-width）`，原始缩放比例`（initial-scale=1.0）`，即网页初始大小占屏幕面积的100%。

当然这里除了这两个属性之外,还可以加上其他几个属性,比较完整的是这个样子:

```html
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
```
`maximum-scale=1.0`, `minimum-scale=1.0`;可视区域的缩放级别，`maximum-scale`用户可将页面放大的程序，1.0将禁止用户放大到实际尺寸之上,`minimum-scale=1.0`当然就是禁止缩小了。`user-scalable`:是否可对页面进行缩放，no 禁止缩放

所有主流浏览器都支持这个设置，包括IE9。对于那些老式浏览器（主要是IE6、7、8），需要另外重写。

```javascript
<!--[if lt IE 9]>
<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
<![endif]-->
```
这个js文件在google上获取困难的话,可以直接在github上搜索相关资源,大家需要的话可以[点击这里](https://github.com/livingston/css3-mediaqueries-js)直接下载

### 常见的一些其他meta标签设置

很多触屏版的页面上都会加上下面几句`meta`标签,虽然和响应式关系不是太大,这里一并说了吧

```html
<meta content="yes" name="apple-mobile-web-app-capable">
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
<meta content="telephone=no" name="format-detection">
```
- 第一个meta标签是iphone设备中的safari私有meta标签，它表示：允许全屏模式浏览；
- 第二个meta标签也是iphone的私有标签，它指定的iphone中safari顶端的状态条的样式；
在web app应用下状态条（屏幕顶部条）的颜色；
默认值为default（白色），可以定为black（黑色）和black-translucent（灰色半透明）。
注意：若值为“black-translucent”将会占据页面px位置，浮在页面上方（会覆盖页面20px高度–iphone4和itouch4的Retina屏幕为40px）。
- 第三个meta标签表示：告诉设备忽略将页面中的数字识别为电话号码。

## 三.不使用绝对宽度和字体

### 不使用绝对宽度

由于网页会根据屏幕宽度调整布局，所以不能使用绝对宽度的布局，也不能使用具有绝对宽度的元素。

**CSS代码不能指定像素宽度：**

```html
width:number px;
```

**只能指定百分比宽度：**

```html
width: x%;
```


**或者自动：**

```html
width: auto;
```

### 不使用绝对大小字体
只使用相对大小（em）字体，不能使用绝对大小（px）字体。下面这段代码的意思是：字体大小是页面默认大小的100%，即16像素；h1的大小是默认大小的1.5倍，即24像素（24/16=1.5）；small元素的大小是默认大小的0.875倍，即14像素（14/16=0.875）。

```css
body {
font: normal 100% Helvetica, Arial, sans-serif;
}
h1 {
font-size: 1.5em;
}
```


当然无论是绝对宽度还是字体还不止这些,但是这又涉及到另外的知识和布局方式,放在下一章讲解.

## 四.图片缩放

除了布局和文本，响应式布局还必须实现图片的自动缩放。这只要一行CSS代码，对于大多数嵌入网页的视频也有效。


```css
img { max-width: 100%;}
img, object { max-width: 100%;}
```

老版本的IE不支持max-width，所以只好写成：

```css
img { width: 100%; }
```

windows平台缩放图片时，可能出现图像失真现象。这是可以尝试针对IE浏览器内核写：

```css
img { -ms-interpolation-mode: bicubic; }
```

一扯到IE就很头痛,但是既然已经要做响应式了,其实我个人的意见是还兼容`IE`干嘛?还在使用老式IE浏览器的用户,几乎也可以忽略掉了.有时间浪费在这上面,还不如多想想功能和页面设计.

**前面这三个是响应式布局必须要遵守或者应用的方式**

## 五.流式布局

其实这个是响应式里面用得最多的一种表现方式.

什么意思呢?我们来回顾一下,一开始提出的例子.为了提高移动端用户的体验,本来页面在电脑上显示的效果是**一行三个div**,但是在移动端,为了字体和布局不显得局促,使用**一行一个div**,这个怎么做呢?我们先来看看效果.

```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		div{
			float: left;
			width: 30%;
			height: 100px;
			margin: 10px;
		}
		#div1{
			background-color: #006699;
		}
		#div2{
			background-color: #ff6666;
		}
		#div3{
			background-color: #ffff00;
		}
	</style>
</head>
<body>
	<div id="div1"></div>
	<div id="div2"></div>
	<div id="div3"></div>
</body>
</html>
```

整个`html`代码如上,上面这个代码,大家应该都知道.无非就是`left:left`块级标签浮动了而已.显示效果如下:

![](/assets/images/2015-12-08-float1.png)

当缩小浏览器宽度到一定程度时,就会出现如下效果:

![](/assets/images/2015-12-08-float2.png)

当然为什么大家应该都想得到,因为 `magin:10px;`是固定的,当缩小到一定程度,`width:30%`已经不能填满整个100%的宽度了.

其实,响应式听名字好像挺高大上,其实最重要的表现形式就是这种.借用流动布局让界面显得不局促.比如,当界面缩小到一定程度的时候,直接显示成下面这种效果:

![](/assets/images/2015-12-08-float3.png)

其实,就是css里面修改每一个`div`的`width`就好:

```
div{
	float: left;
	width: 95%;
	height: 100px;
	margin: 10px;
}
```

这里就是把 `width:30%;` 修改成了: `width:100%;`.

那剩下的问题就是判断窗口大小了,首先想到的就是使用js,其实这里没必要,可以直接使用**媒体查询**


## 六.media query 媒体查询

讲到响应式,那么媒体查询(media query)肯定是不能避过的,概念就不多讲,其实直接看代码实验

```html
div{
	float: left;
	width: 30%;
	height: 100px;
	margin: 10px;
}
@media only screen and (max-width: 600px) {
	div{
		width: 95%;
	}
}
```

上面的代码,表示正常情况下`div`的`width`还是维持在`30%`没有变化,但是当检测到`screen`的最大宽度是`600px`的时候,就将执行`@media`里面的css,其实就是相当于利用了层叠样式表的特性,`@media`里面的代码将原来的覆盖了.由此可见,`@media`放在`div`样式前面可以吗?

当然,既然又`max-width`,就会有`min-width`,很多初学者一直没搞清楚这两个的区别,老是搞混淆.其实记住一点.
`max-width`就是**当屏幕小于等于多少的时候执行(<=)**
`min-width`就是**当屏幕大于等于多少的时候执行(>=)**

所以,有时候精确判断的时候,可以写 屏**幕>=多少 and 屏幕 <= 多少**的时候执行:

```css
div{
	float: left;
	width: 30%;
	height: 100px;
	margin: 10px;
}
@media only screen and (min-width: 601px) and (max-width: 980px) {
	div{
    	width: 45%;
    }
}

@media only screen and (max-width: 600px) {
	div{
		width: 95%;
    }
}
```
上面的代码相当于,当 **屏幕宽度 >= 601px && 屏幕宽度 <= 980px**的时候,页面上实际上在**一行显示2个div**,因为2个`45%`就已经是`90%`,剩下的那个肯定就被挤下去了.

当屏**幕宽度<=600px**的时候,就让**一个div占满一行(95%)**

当然这里只是列举了宽度判定之后重新定位宽度的例子,当然你也可以在宽度定位之后重新定义其他css属性,让你的响应式布局变化更加的丰富.包括媒体查询还有一些其他的属性这里就不一一列举了.这些东西大家都可以慢慢接触到,掌握最重点,然后慢慢扩展,我觉得才是一个比较好的学习方式.不然只会把自己搞晕.

最后总结一下,所谓响应式,无非就是 当屏幕宽度变化的时候,充分利用的层叠样式表的特性,重新定义或覆盖css样式.


